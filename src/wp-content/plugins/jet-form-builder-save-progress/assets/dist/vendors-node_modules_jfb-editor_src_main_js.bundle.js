"use strict";
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_jfb-editor_src_main_js"],{

/***/ "../node_modules/jfb-editor/src/actions/EditorData.js":
/*!************************************************************!*\
  !*** ../node_modules/jfb-editor/src/actions/EditorData.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "getAction": () => (/* binding */ getAction),
/* harmony export */   "setAction": () => (/* binding */ setAction)
/* harmony export */ });
class EditorData {
	constructor( type, label ) {
		this.type = type;
		this.label = label;
		this.source = {};
		this.__labels = {};
		this.__help_messages = {};
		this.__gateway_attrs = {};
		this.__messages = {};
	}

	static findIndexByType( staticType ) {
		return window.jetFormActionTypes.findIndex( type => staticType === type.id );
	}

	setSource( config ) {
		this.source = config;

		return this;
	}

	setLabels( config ) {
		this.__labels = JSON.parse( JSON.stringify( config ) );

		return this;
	}

	setHelp( config ) {
		this.__help_messages = JSON.parse( JSON.stringify( config ) );

		return this;
	}

	setGatewayAttrs( config ) {
		this.__gateway_attrs = JSON.parse( JSON.stringify( config ) );

		return this;
	}

	setMessages( config ) {
		this.__messages = JSON.parse( JSON.stringify( config ) );

		return this;
	}

	importAction() {
		if ( ! ( 'jetFormActionTypes' in window ) ) {
			throw new Error( 'There is no registered notifications' );
		}

		const actionIndex = EditorData.findIndexByType( this.type );

		if ( -1 === actionIndex ) {
			throw new Error( `Action type: '${ this.type }' is undefined` );
		}

		const current = window.jetFormActionTypes[ actionIndex ];

		if ( current.__labels ) {
			this.setLabels( current.__labels );
			delete current.__labels;
		}
		if ( current.__help_messages ) {
			this.setHelp( current.__help_messages );
			delete current.__help_messages;
		}
		if ( current.__gateway_attrs ) {
			this.setGatewayAttrs( current.__gateway_attrs );
			delete current.__gateway_attrs;
		}
		if ( current.__messages ) {
			this.setMessages( current.__messages );
			delete current.__gateway_attrs;
		}

		return { ...current, ...this.getExportObject() };
	}

	getExportObject() {
		const label = this.exportLabels();
		const help = this.exportHelp();
		const gatewayAttrs = this.exportGatewayAttrs();
		const messages = this.exportMessages();

		return { label, help, messages, gatewayAttrs }
	}

	exportAll() {
		if ( ! ( 'jetFormActionTypes' in window ) ) {
			window.jetFormActionTypes = [];
		}

		const exportObj = this.getExportObject();
		const actionIndex = EditorData.findIndexByType( this.type );
		const actionData = {
			id: this.type,
			name: this.label,
			...exportObj,
		};

		if ( -1 === actionIndex ) {
			window.jetFormActionTypes.push( actionData );
		} else {
			window.jetFormActionTypes[ actionIndex ] = {
				...window.jetFormActionTypes[ actionIndex ] ,
				...exportObj
			};
		}

		return exportObj;
	}


	exportLabels() {
		return this.getLocalizedWithFunc( '__labels', '[Empty Label]' );
	};

	exportHelp() {
		return this.getLocalizedWithFunc( '__help_messages' );
	};

	exportGatewayAttrs() {
		return this.getLocalizedWithFunc( '__gateway_attrs', [] );
	};

	exportMessages() {
		return this.getLocalizedWithFunc( '__messages', {} );
	};

	getLocalizedWithFunc( objectKey, ifEmptyReturn = '' ) {

		let action = false;

		if ( objectKey in this ) {
			action = this[ objectKey ];
		}

		if ( ! action ) {
			return () => ifEmptyReturn;
		}

		return attr => {
			if ( attr ) {
				return ( action[ attr ] ? action[ attr ] : ifEmptyReturn );
			} else {
				return action;
			}
		};
	};
}

function getAction( type ) {
	const index = EditorData.findIndexByType( type );

	return -1 === index ? {} : window.jetFormActionTypes[ index ];
}

function setAction( type, settings ) {
	delete settings.id;
	const index = EditorData.findIndexByType( type );

	if ( -1 === index ) {
		return false;
	}

	window.jetFormActionTypes[ index ] = {
		...window.jetFormActionTypes[ index ],
		...settings
	};
}



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (EditorData);

/***/ }),

/***/ "../node_modules/jfb-editor/src/fields/EditorData.js":
/*!***********************************************************!*\
  !*** ../node_modules/jfb-editor/src/fields/EditorData.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getBlockSource": () => (/* binding */ getBlockSource),
/* harmony export */   "getCallbackForAttr": () => (/* binding */ getCallbackForAttr),
/* harmony export */   "getFieldSource": () => (/* binding */ getFieldSource)
/* harmony export */ });
function getCallbackForAttr( source, objectKey, ifEmptyReturn = '' ) {
	let propertyObject = false;

	if ( objectKey in source ) {
		propertyObject = source[ objectKey ];
	}

	if ( ! propertyObject ) {
		return () => ifEmptyReturn;
	}

	return attr => {
		if ( attr ) {
			return ( propertyObject[ attr ] ? propertyObject[ attr ] : ifEmptyReturn );
		} else {
			return propertyObject;
		}
	};
}

function getBlockSource( block ) {
	const [ nameSpace, blockName ] = block.name.split( '/' );

	return getFieldSource( blockName );
}

function getFieldSource( fieldId ) {
	const source = window.JetFormBuilderFields[ fieldId ] || {};

	const props = [
		[ '__labels', 'label' ],
		[ '__help', 'help' ],
	];

	props.forEach( ( [ propName, callbackName, ifEmpty = '' ] ) => {
		source[ callbackName ] = getCallbackForAttr( source, propName, ifEmpty );
	} )

	return source;
}



/***/ }),

/***/ "../node_modules/jfb-editor/src/main.js":
/*!**********************************************!*\
  !*** ../node_modules/jfb-editor/src/main.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Actions": () => (/* binding */ Actions),
/* harmony export */   "Blocks": () => (/* binding */ Blocks),
/* harmony export */   "JetFormEditorRow": () => (/* reexport safe */ _engine_editor_JetFormEditorRow__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _actions_EditorData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./actions/EditorData */ "../node_modules/jfb-editor/src/actions/EditorData.js");
/* harmony import */ var _engine_editor_JetFormEditorRow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./engine-editor/JetFormEditorRow */ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue");
/* harmony import */ var _fields_EditorData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/EditorData */ "../node_modules/jfb-editor/src/fields/EditorData.js");





const Blocks = {
	getBlockSource: _fields_EditorData__WEBPACK_IMPORTED_MODULE_2__.getBlockSource,
	getFieldSource: _fields_EditorData__WEBPACK_IMPORTED_MODULE_2__.getFieldSource,
};

const Actions = {
	EditorData: _actions_EditorData__WEBPACK_IMPORTED_MODULE_0__["default"],
	getAction: _actions_EditorData__WEBPACK_IMPORTED_MODULE_0__.getAction,
	setAction: _actions_EditorData__WEBPACK_IMPORTED_MODULE_0__.setAction,
};



/***/ }),

/***/ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue":
/*!*************************************************************************!*\
  !*** ../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JetFormEditorRow.vue?vue&type=template&id=076e38b6& */ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6&");
/* harmony import */ var _JetFormEditorRow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JetFormEditorRow.vue?vue&type=script&lang=js& */ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js&");
/* harmony import */ var _vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../vue-loader/lib/runtime/componentNormalizer.js */ "../node_modules/vue-loader/lib/runtime/componentNormalizer.js");





/* normalize component */
;
var component = (0,_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__["default"])(
  _JetFormEditorRow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__.render,
  _JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue"
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (component.exports);

/***/ }),

/***/ "../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************************************************************************!*\
  !*** ../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
	name: 'jet-form-editor-row',
	props: {
		label: {
			type: String,
			default: ''
		},
		labelClass: {
			type: String,
			default: ''
		},
		helpClass: {
			type: String,
			default: ''
		},
		controlClass: {
			type: String,
			default: ''
		},
	},
	computed: {
		labelClassObject() {
			return this.getClass( 'defaultLabelClass', 'labelClass' )
		},
		helpClassObject() {
			return this.getClass( 'defaultHelpClass', 'helpClass' )
		},
		controlClassObject() {
			return this.getClass( 'defaultControlClass', 'controlClass' )
		}
	},
	data() {
		return {
			defaultLabelClass: 'jet-form-editor__row-label',
			defaultHelpClass: 'jet-form-editor__row-notice',
			defaultControlClass: 'jet-form-editor__row-control',
		}
	},
	methods: {
		getClass( defaultKey, propKey ) {
			return {
				[ `${ this[ defaultKey ] } ${ this[ propKey ] }` ]: this[ propKey ],
				[ this[ defaultKey ] ]: ! this[ propKey ]
			};
		}
	}
});


/***/ }),

/***/ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js&":
/*!**************************************************************************************************!*\
  !*** ../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _vue_loader_lib_index_js_vue_loader_options_JetFormEditorRow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../vue-loader/lib/index.js??vue-loader-options!./JetFormEditorRow.vue?vue&type=script&lang=js& */ "../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=script&lang=js&");
 /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_vue_loader_lib_index_js_vue_loader_options_JetFormEditorRow_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__["default"]); 

/***/ }),

/***/ "../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6&":
/*!********************************************************************************************************!*\
  !*** ../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6& ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* reexport safe */ _vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_vue_loader_lib_index_js_vue_loader_options_JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__.render),
/* harmony export */   "staticRenderFns": () => (/* reexport safe */ _vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_vue_loader_lib_index_js_vue_loader_options_JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__.staticRenderFns)
/* harmony export */ });
/* harmony import */ var _vue_loader_lib_loaders_templateLoader_js_ruleSet_1_rules_2_vue_loader_lib_index_js_vue_loader_options_JetFormEditorRow_vue_vue_type_template_id_076e38b6___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../../../vue-loader/lib/index.js??vue-loader-options!./JetFormEditorRow.vue?vue&type=template&id=076e38b6& */ "../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6&");


/***/ }),

/***/ "../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6&":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../node_modules/vue-loader/lib/loaders/templateLoader.js??ruleSet[1].rules[2]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/jfb-editor/src/engine-editor/JetFormEditorRow.vue?vue&type=template&id=076e38b6& ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "render": () => (/* binding */ render),
/* harmony export */   "staticRenderFns": () => (/* binding */ staticRenderFns)
/* harmony export */ });
var render = function render() {
  var _vm = this,
    _c = _vm._self._c
  return _c("div", { staticClass: "jet-form-editor__row" }, [
    _c("div", { class: _vm.labelClassObject }, [
      _vm._v("\n\t\t" + _vm._s(_vm.label) + "\n\t\t"),
      this.$slots.helpLabel
        ? _c("div", { class: _vm.helpClassObject }, [_vm._t("helpLabel")], 2)
        : _vm._e(),
    ]),
    _vm._v(" "),
    _c(
      "div",
      { class: _vm.controlClassObject },
      [
        _vm._t("default"),
        _vm._v(" "),
        this.$slots.helpControl
          ? _c(
              "div",
              { class: _vm.helpClassObject },
              [_vm._t("helpControl")],
              2
            )
          : _vm._e(),
      ],
      2
    ),
    _vm._v(" "),
    this.$slots.helpSide
      ? _c(
          "div",
          { class: _vm.helpClassObject },
          [_vm._v("\n\t\t    "), _vm._t("helpSide")],
          2
        )
      : _vm._e(),
  ])
}
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ "../node_modules/vue-loader/lib/runtime/componentNormalizer.js":
/*!*********************************************************************!*\
  !*** ../node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ normalizeComponent)
/* harmony export */ });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent(
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier /* server only */,
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options =
    typeof scriptExports === 'function' ? scriptExports.options : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) {
    // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () {
          injectStyles.call(
            this,
            (options.functional ? this.parent : this).$root.$options.shadowRoot
          )
        }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functional component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection(h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfamZiLWVkaXRvcl9zcmNfbWFpbl9qcy5idW5kbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDN0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDckNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FDaEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNwRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUVBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7OztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2pmYi1lZGl0b3Ivc3JjL2FjdGlvbnMvRWRpdG9yRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2pmYi1lZGl0b3Ivc3JjL2ZpZWxkcy9FZGl0b3JEYXRhLmpzIiwid2VicGFjazovLy8uLi9ub2RlX21vZHVsZXMvamZiLWVkaXRvci9zcmMvbWFpbi5qcyIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2pmYi1lZGl0b3Ivc3JjL2VuZ2luZS1lZGl0b3IvSmV0Rm9ybUVkaXRvclJvdy52dWU/NTVhOSIsIndlYnBhY2s6Ly8vLi4vbm9kZV9tb2R1bGVzL2pmYi1lZGl0b3Ivc3JjL2VuZ2luZS1lZGl0b3IvSmV0Rm9ybUVkaXRvclJvdy52dWUiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9qZmItZWRpdG9yL3NyYy9lbmdpbmUtZWRpdG9yL0pldEZvcm1FZGl0b3JSb3cudnVlPzFmNDMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9qZmItZWRpdG9yL3NyYy9lbmdpbmUtZWRpdG9yL0pldEZvcm1FZGl0b3JSb3cudnVlPzdiNzkiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy9qZmItZWRpdG9yL3NyYy9lbmdpbmUtZWRpdG9yL0pldEZvcm1FZGl0b3JSb3cudnVlP2ZhOGMiLCJ3ZWJwYWNrOi8vLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRWRpdG9yRGF0YSB7XHJcblx0Y29uc3RydWN0b3IoIHR5cGUsIGxhYmVsICkge1xyXG5cdFx0dGhpcy50eXBlID0gdHlwZTtcclxuXHRcdHRoaXMubGFiZWwgPSBsYWJlbDtcclxuXHRcdHRoaXMuc291cmNlID0ge307XHJcblx0XHR0aGlzLl9fbGFiZWxzID0ge307XHJcblx0XHR0aGlzLl9faGVscF9tZXNzYWdlcyA9IHt9O1xyXG5cdFx0dGhpcy5fX2dhdGV3YXlfYXR0cnMgPSB7fTtcclxuXHRcdHRoaXMuX19tZXNzYWdlcyA9IHt9O1xyXG5cdH1cclxuXHJcblx0c3RhdGljIGZpbmRJbmRleEJ5VHlwZSggc3RhdGljVHlwZSApIHtcclxuXHRcdHJldHVybiB3aW5kb3cuamV0Rm9ybUFjdGlvblR5cGVzLmZpbmRJbmRleCggdHlwZSA9PiBzdGF0aWNUeXBlID09PSB0eXBlLmlkICk7XHJcblx0fVxyXG5cclxuXHRzZXRTb3VyY2UoIGNvbmZpZyApIHtcclxuXHRcdHRoaXMuc291cmNlID0gY29uZmlnO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0c2V0TGFiZWxzKCBjb25maWcgKSB7XHJcblx0XHR0aGlzLl9fbGFiZWxzID0gSlNPTi5wYXJzZSggSlNPTi5zdHJpbmdpZnkoIGNvbmZpZyApICk7XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRzZXRIZWxwKCBjb25maWcgKSB7XHJcblx0XHR0aGlzLl9faGVscF9tZXNzYWdlcyA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KCBjb25maWcgKSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0c2V0R2F0ZXdheUF0dHJzKCBjb25maWcgKSB7XHJcblx0XHR0aGlzLl9fZ2F0ZXdheV9hdHRycyA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KCBjb25maWcgKSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0c2V0TWVzc2FnZXMoIGNvbmZpZyApIHtcclxuXHRcdHRoaXMuX19tZXNzYWdlcyA9IEpTT04ucGFyc2UoIEpTT04uc3RyaW5naWZ5KCBjb25maWcgKSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxuXHJcblx0aW1wb3J0QWN0aW9uKCkge1xyXG5cdFx0aWYgKCAhICggJ2pldEZvcm1BY3Rpb25UeXBlcycgaW4gd2luZG93ICkgKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvciggJ1RoZXJlIGlzIG5vIHJlZ2lzdGVyZWQgbm90aWZpY2F0aW9ucycgKTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBhY3Rpb25JbmRleCA9IEVkaXRvckRhdGEuZmluZEluZGV4QnlUeXBlKCB0aGlzLnR5cGUgKTtcclxuXHJcblx0XHRpZiAoIC0xID09PSBhY3Rpb25JbmRleCApIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCBgQWN0aW9uIHR5cGU6ICckeyB0aGlzLnR5cGUgfScgaXMgdW5kZWZpbmVkYCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IGN1cnJlbnQgPSB3aW5kb3cuamV0Rm9ybUFjdGlvblR5cGVzWyBhY3Rpb25JbmRleCBdO1xyXG5cclxuXHRcdGlmICggY3VycmVudC5fX2xhYmVscyApIHtcclxuXHRcdFx0dGhpcy5zZXRMYWJlbHMoIGN1cnJlbnQuX19sYWJlbHMgKTtcclxuXHRcdFx0ZGVsZXRlIGN1cnJlbnQuX19sYWJlbHM7XHJcblx0XHR9XHJcblx0XHRpZiAoIGN1cnJlbnQuX19oZWxwX21lc3NhZ2VzICkge1xyXG5cdFx0XHR0aGlzLnNldEhlbHAoIGN1cnJlbnQuX19oZWxwX21lc3NhZ2VzICk7XHJcblx0XHRcdGRlbGV0ZSBjdXJyZW50Ll9faGVscF9tZXNzYWdlcztcclxuXHRcdH1cclxuXHRcdGlmICggY3VycmVudC5fX2dhdGV3YXlfYXR0cnMgKSB7XHJcblx0XHRcdHRoaXMuc2V0R2F0ZXdheUF0dHJzKCBjdXJyZW50Ll9fZ2F0ZXdheV9hdHRycyApO1xyXG5cdFx0XHRkZWxldGUgY3VycmVudC5fX2dhdGV3YXlfYXR0cnM7XHJcblx0XHR9XHJcblx0XHRpZiAoIGN1cnJlbnQuX19tZXNzYWdlcyApIHtcclxuXHRcdFx0dGhpcy5zZXRNZXNzYWdlcyggY3VycmVudC5fX21lc3NhZ2VzICk7XHJcblx0XHRcdGRlbGV0ZSBjdXJyZW50Ll9fZ2F0ZXdheV9hdHRycztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4geyAuLi5jdXJyZW50LCAuLi50aGlzLmdldEV4cG9ydE9iamVjdCgpIH07XHJcblx0fVxyXG5cclxuXHRnZXRFeHBvcnRPYmplY3QoKSB7XHJcblx0XHRjb25zdCBsYWJlbCA9IHRoaXMuZXhwb3J0TGFiZWxzKCk7XHJcblx0XHRjb25zdCBoZWxwID0gdGhpcy5leHBvcnRIZWxwKCk7XHJcblx0XHRjb25zdCBnYXRld2F5QXR0cnMgPSB0aGlzLmV4cG9ydEdhdGV3YXlBdHRycygpO1xyXG5cdFx0Y29uc3QgbWVzc2FnZXMgPSB0aGlzLmV4cG9ydE1lc3NhZ2VzKCk7XHJcblxyXG5cdFx0cmV0dXJuIHsgbGFiZWwsIGhlbHAsIG1lc3NhZ2VzLCBnYXRld2F5QXR0cnMgfVxyXG5cdH1cclxuXHJcblx0ZXhwb3J0QWxsKCkge1xyXG5cdFx0aWYgKCAhICggJ2pldEZvcm1BY3Rpb25UeXBlcycgaW4gd2luZG93ICkgKSB7XHJcblx0XHRcdHdpbmRvdy5qZXRGb3JtQWN0aW9uVHlwZXMgPSBbXTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCBleHBvcnRPYmogPSB0aGlzLmdldEV4cG9ydE9iamVjdCgpO1xyXG5cdFx0Y29uc3QgYWN0aW9uSW5kZXggPSBFZGl0b3JEYXRhLmZpbmRJbmRleEJ5VHlwZSggdGhpcy50eXBlICk7XHJcblx0XHRjb25zdCBhY3Rpb25EYXRhID0ge1xyXG5cdFx0XHRpZDogdGhpcy50eXBlLFxyXG5cdFx0XHRuYW1lOiB0aGlzLmxhYmVsLFxyXG5cdFx0XHQuLi5leHBvcnRPYmosXHJcblx0XHR9O1xyXG5cclxuXHRcdGlmICggLTEgPT09IGFjdGlvbkluZGV4ICkge1xyXG5cdFx0XHR3aW5kb3cuamV0Rm9ybUFjdGlvblR5cGVzLnB1c2goIGFjdGlvbkRhdGEgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHdpbmRvdy5qZXRGb3JtQWN0aW9uVHlwZXNbIGFjdGlvbkluZGV4IF0gPSB7XHJcblx0XHRcdFx0Li4ud2luZG93LmpldEZvcm1BY3Rpb25UeXBlc1sgYWN0aW9uSW5kZXggXSAsXHJcblx0XHRcdFx0Li4uZXhwb3J0T2JqXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGV4cG9ydE9iajtcclxuXHR9XHJcblxyXG5cclxuXHRleHBvcnRMYWJlbHMoKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5nZXRMb2NhbGl6ZWRXaXRoRnVuYyggJ19fbGFiZWxzJywgJ1tFbXB0eSBMYWJlbF0nICk7XHJcblx0fTtcclxuXHJcblx0ZXhwb3J0SGVscCgpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldExvY2FsaXplZFdpdGhGdW5jKCAnX19oZWxwX21lc3NhZ2VzJyApO1xyXG5cdH07XHJcblxyXG5cdGV4cG9ydEdhdGV3YXlBdHRycygpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldExvY2FsaXplZFdpdGhGdW5jKCAnX19nYXRld2F5X2F0dHJzJywgW10gKTtcclxuXHR9O1xyXG5cclxuXHRleHBvcnRNZXNzYWdlcygpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldExvY2FsaXplZFdpdGhGdW5jKCAnX19tZXNzYWdlcycsIHt9ICk7XHJcblx0fTtcclxuXHJcblx0Z2V0TG9jYWxpemVkV2l0aEZ1bmMoIG9iamVjdEtleSwgaWZFbXB0eVJldHVybiA9ICcnICkge1xyXG5cclxuXHRcdGxldCBhY3Rpb24gPSBmYWxzZTtcclxuXHJcblx0XHRpZiAoIG9iamVjdEtleSBpbiB0aGlzICkge1xyXG5cdFx0XHRhY3Rpb24gPSB0aGlzWyBvYmplY3RLZXkgXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoICEgYWN0aW9uICkge1xyXG5cdFx0XHRyZXR1cm4gKCkgPT4gaWZFbXB0eVJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gYXR0ciA9PiB7XHJcblx0XHRcdGlmICggYXR0ciApIHtcclxuXHRcdFx0XHRyZXR1cm4gKCBhY3Rpb25bIGF0dHIgXSA/IGFjdGlvblsgYXR0ciBdIDogaWZFbXB0eVJldHVybiApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBhY3Rpb247XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWN0aW9uKCB0eXBlICkge1xyXG5cdGNvbnN0IGluZGV4ID0gRWRpdG9yRGF0YS5maW5kSW5kZXhCeVR5cGUoIHR5cGUgKTtcclxuXHJcblx0cmV0dXJuIC0xID09PSBpbmRleCA/IHt9IDogd2luZG93LmpldEZvcm1BY3Rpb25UeXBlc1sgaW5kZXggXTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0QWN0aW9uKCB0eXBlLCBzZXR0aW5ncyApIHtcclxuXHRkZWxldGUgc2V0dGluZ3MuaWQ7XHJcblx0Y29uc3QgaW5kZXggPSBFZGl0b3JEYXRhLmZpbmRJbmRleEJ5VHlwZSggdHlwZSApO1xyXG5cclxuXHRpZiAoIC0xID09PSBpbmRleCApIHtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHdpbmRvdy5qZXRGb3JtQWN0aW9uVHlwZXNbIGluZGV4IF0gPSB7XHJcblx0XHQuLi53aW5kb3cuamV0Rm9ybUFjdGlvblR5cGVzWyBpbmRleCBdLFxyXG5cdFx0Li4uc2V0dGluZ3NcclxuXHR9O1xyXG59XHJcblxyXG5leHBvcnQgeyBnZXRBY3Rpb24sIHNldEFjdGlvbiB9O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRWRpdG9yRGF0YTsiLCJmdW5jdGlvbiBnZXRDYWxsYmFja0ZvckF0dHIoIHNvdXJjZSwgb2JqZWN0S2V5LCBpZkVtcHR5UmV0dXJuID0gJycgKSB7XHJcblx0bGV0IHByb3BlcnR5T2JqZWN0ID0gZmFsc2U7XHJcblxyXG5cdGlmICggb2JqZWN0S2V5IGluIHNvdXJjZSApIHtcclxuXHRcdHByb3BlcnR5T2JqZWN0ID0gc291cmNlWyBvYmplY3RLZXkgXTtcclxuXHR9XHJcblxyXG5cdGlmICggISBwcm9wZXJ0eU9iamVjdCApIHtcclxuXHRcdHJldHVybiAoKSA9PiBpZkVtcHR5UmV0dXJuO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGF0dHIgPT4ge1xyXG5cdFx0aWYgKCBhdHRyICkge1xyXG5cdFx0XHRyZXR1cm4gKCBwcm9wZXJ0eU9iamVjdFsgYXR0ciBdID8gcHJvcGVydHlPYmplY3RbIGF0dHIgXSA6IGlmRW1wdHlSZXR1cm4gKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBwcm9wZXJ0eU9iamVjdDtcclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRCbG9ja1NvdXJjZSggYmxvY2sgKSB7XHJcblx0Y29uc3QgWyBuYW1lU3BhY2UsIGJsb2NrTmFtZSBdID0gYmxvY2submFtZS5zcGxpdCggJy8nICk7XHJcblxyXG5cdHJldHVybiBnZXRGaWVsZFNvdXJjZSggYmxvY2tOYW1lICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZpZWxkU291cmNlKCBmaWVsZElkICkge1xyXG5cdGNvbnN0IHNvdXJjZSA9IHdpbmRvdy5KZXRGb3JtQnVpbGRlckZpZWxkc1sgZmllbGRJZCBdIHx8IHt9O1xyXG5cclxuXHRjb25zdCBwcm9wcyA9IFtcclxuXHRcdFsgJ19fbGFiZWxzJywgJ2xhYmVsJyBdLFxyXG5cdFx0WyAnX19oZWxwJywgJ2hlbHAnIF0sXHJcblx0XTtcclxuXHJcblx0cHJvcHMuZm9yRWFjaCggKCBbIHByb3BOYW1lLCBjYWxsYmFja05hbWUsIGlmRW1wdHkgPSAnJyBdICkgPT4ge1xyXG5cdFx0c291cmNlWyBjYWxsYmFja05hbWUgXSA9IGdldENhbGxiYWNrRm9yQXR0ciggc291cmNlLCBwcm9wTmFtZSwgaWZFbXB0eSApO1xyXG5cdH0gKVxyXG5cclxuXHRyZXR1cm4gc291cmNlO1xyXG59XHJcblxyXG5leHBvcnQgeyBnZXRDYWxsYmFja0ZvckF0dHIsIGdldEJsb2NrU291cmNlLCBnZXRGaWVsZFNvdXJjZSB9OyIsImltcG9ydCBFZGl0b3JEYXRhLCB7XHJcblx0Z2V0QWN0aW9uLFxyXG5cdHNldEFjdGlvbixcclxufSBmcm9tIFwiLi9hY3Rpb25zL0VkaXRvckRhdGFcIjtcclxuXHJcbmltcG9ydCBKZXRGb3JtRWRpdG9yUm93IGZyb20gXCIuL2VuZ2luZS1lZGl0b3IvSmV0Rm9ybUVkaXRvclJvd1wiO1xyXG5pbXBvcnQge1xyXG5cdGdldEJsb2NrU291cmNlLFxyXG5cdGdldEZpZWxkU291cmNlLFxyXG59IGZyb20gJy4vZmllbGRzL0VkaXRvckRhdGEnO1xyXG5cclxuY29uc3QgQmxvY2tzID0ge1xyXG5cdGdldEJsb2NrU291cmNlLFxyXG5cdGdldEZpZWxkU291cmNlLFxyXG59O1xyXG5cclxuY29uc3QgQWN0aW9ucyA9IHtcclxuXHRFZGl0b3JEYXRhLFxyXG5cdGdldEFjdGlvbixcclxuXHRzZXRBY3Rpb24sXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG5cdEFjdGlvbnMsXHJcblx0QmxvY2tzLFxyXG5cdEpldEZvcm1FZGl0b3JSb3csXHJcbn07IiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9KZXRGb3JtRWRpdG9yUm93LnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0wNzZlMzhiNiZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9KZXRGb3JtRWRpdG9yUm93LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vSmV0Rm9ybUVkaXRvclJvdy52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uL3Z1ZS1sb2FkZXIvbGliL3J1bnRpbWUvY29tcG9uZW50Tm9ybWFsaXplci5qc1wiXG52YXIgY29tcG9uZW50ID0gbm9ybWFsaXplcihcbiAgc2NyaXB0LFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZmFsc2UsXG4gIG51bGwsXG4gIG51bGwsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiQzpcXFxcbGFyYWdvblxcXFx3d3dcXFxcZGV2LmxvY1xcXFx3cC1jb250ZW50XFxcXHBsdWdpbnNcXFxcamV0LWZvcm0tYnVpbGRlci1zYXZlLXByb2dyZXNzXFxcXGFzc2V0c1xcXFxub2RlX21vZHVsZXNcXFxcdnVlLWhvdC1yZWxvYWQtYXBpXFxcXGRpc3RcXFxcaW5kZXguanNcIilcbiAgYXBpLmluc3RhbGwocmVxdWlyZSgndnVlJykpXG4gIGlmIChhcGkuY29tcGF0aWJsZSkge1xuICAgIG1vZHVsZS5ob3QuYWNjZXB0KClcbiAgICBpZiAoIWFwaS5pc1JlY29yZGVkKCcwNzZlMzhiNicpKSB7XG4gICAgICBhcGkuY3JlYXRlUmVjb3JkKCcwNzZlMzhiNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVsb2FkKCcwNzZlMzhiNicsIGNvbXBvbmVudC5vcHRpb25zKVxuICAgIH1cbiAgICBtb2R1bGUuaG90LmFjY2VwdChcIi4vSmV0Rm9ybUVkaXRvclJvdy52dWU/dnVlJnR5cGU9dGVtcGxhdGUmaWQ9MDc2ZTM4YjYmXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwaS5yZXJlbmRlcignMDc2ZTM4YjYnLCB7XG4gICAgICAgIHJlbmRlcjogcmVuZGVyLFxuICAgICAgICBzdGF0aWNSZW5kZXJGbnM6IHN0YXRpY1JlbmRlckZuc1xuICAgICAgfSlcbiAgICB9KVxuICB9XG59XG5jb21wb25lbnQub3B0aW9ucy5fX2ZpbGUgPSBcIm5vZGVfbW9kdWxlcy9qZmItZWRpdG9yL3NyYy9lbmdpbmUtZWRpdG9yL0pldEZvcm1FZGl0b3JSb3cudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwiPHRlbXBsYXRlPlxyXG5cdDxkaXYgY2xhc3M9XCJqZXQtZm9ybS1lZGl0b3JfX3Jvd1wiPlxyXG5cdFx0PGRpdiA6Y2xhc3M9XCJsYWJlbENsYXNzT2JqZWN0XCI+XHJcblx0XHRcdHt7IGxhYmVsIH19XHJcblx0XHRcdDxkaXYgOmNsYXNzPVwiaGVscENsYXNzT2JqZWN0XCIgdi1pZj1cInRoaXMuJHNsb3RzLmhlbHBMYWJlbFwiPlxyXG5cdFx0XHRcdDxzbG90IG5hbWU9XCJoZWxwTGFiZWxcIj48L3Nsb3Q+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9kaXY+XHJcblx0XHQ8ZGl2IDpjbGFzcz1cImNvbnRyb2xDbGFzc09iamVjdFwiPlxyXG5cdFx0XHQ8c2xvdD48L3Nsb3Q+XHJcblx0XHRcdDxkaXYgOmNsYXNzPVwiaGVscENsYXNzT2JqZWN0XCIgdi1pZj1cInRoaXMuJHNsb3RzLmhlbHBDb250cm9sXCI+XHJcblx0XHRcdFx0PHNsb3QgbmFtZT1cImhlbHBDb250cm9sXCI+PC9zbG90PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvZGl2PlxyXG5cdFx0PGRpdiA6Y2xhc3M9XCJoZWxwQ2xhc3NPYmplY3RcIiB2LWlmPVwidGhpcy4kc2xvdHMuaGVscFNpZGVcIj5cclxuXHRcdFx0Jm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7PHNsb3QgbmFtZT1cImhlbHBTaWRlXCI+PC9zbG90PlxyXG5cdFx0PC9kaXY+XHJcblx0PC9kaXY+XHJcbjwvdGVtcGxhdGU+XHJcblxyXG48c2NyaXB0PlxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG5cdG5hbWU6ICdqZXQtZm9ybS1lZGl0b3Itcm93JyxcclxuXHRwcm9wczoge1xyXG5cdFx0bGFiZWw6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiAnJ1xyXG5cdFx0fSxcclxuXHRcdGxhYmVsQ2xhc3M6IHtcclxuXHRcdFx0dHlwZTogU3RyaW5nLFxyXG5cdFx0XHRkZWZhdWx0OiAnJ1xyXG5cdFx0fSxcclxuXHRcdGhlbHBDbGFzczoge1xyXG5cdFx0XHR0eXBlOiBTdHJpbmcsXHJcblx0XHRcdGRlZmF1bHQ6ICcnXHJcblx0XHR9LFxyXG5cdFx0Y29udHJvbENsYXNzOiB7XHJcblx0XHRcdHR5cGU6IFN0cmluZyxcclxuXHRcdFx0ZGVmYXVsdDogJydcclxuXHRcdH0sXHJcblx0fSxcclxuXHRjb21wdXRlZDoge1xyXG5cdFx0bGFiZWxDbGFzc09iamVjdCgpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZ2V0Q2xhc3MoICdkZWZhdWx0TGFiZWxDbGFzcycsICdsYWJlbENsYXNzJyApXHJcblx0XHR9LFxyXG5cdFx0aGVscENsYXNzT2JqZWN0KCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRDbGFzcyggJ2RlZmF1bHRIZWxwQ2xhc3MnLCAnaGVscENsYXNzJyApXHJcblx0XHR9LFxyXG5cdFx0Y29udHJvbENsYXNzT2JqZWN0KCkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRDbGFzcyggJ2RlZmF1bHRDb250cm9sQ2xhc3MnLCAnY29udHJvbENsYXNzJyApXHJcblx0XHR9XHJcblx0fSxcclxuXHRkYXRhKCkge1xyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0ZGVmYXVsdExhYmVsQ2xhc3M6ICdqZXQtZm9ybS1lZGl0b3JfX3Jvdy1sYWJlbCcsXHJcblx0XHRcdGRlZmF1bHRIZWxwQ2xhc3M6ICdqZXQtZm9ybS1lZGl0b3JfX3Jvdy1ub3RpY2UnLFxyXG5cdFx0XHRkZWZhdWx0Q29udHJvbENsYXNzOiAnamV0LWZvcm0tZWRpdG9yX19yb3ctY29udHJvbCcsXHJcblx0XHR9XHJcblx0fSxcclxuXHRtZXRob2RzOiB7XHJcblx0XHRnZXRDbGFzcyggZGVmYXVsdEtleSwgcHJvcEtleSApIHtcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRbIGAkeyB0aGlzWyBkZWZhdWx0S2V5IF0gfSAkeyB0aGlzWyBwcm9wS2V5IF0gfWAgXTogdGhpc1sgcHJvcEtleSBdLFxyXG5cdFx0XHRcdFsgdGhpc1sgZGVmYXVsdEtleSBdIF06ICEgdGhpc1sgcHJvcEtleSBdXHJcblx0XHRcdH07XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbjwvc2NyaXB0PiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0pldEZvcm1FZGl0b3JSb3cudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiOyBleHBvcnQgZGVmYXVsdCBtb2Q7IGV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9KZXRGb3JtRWRpdG9yUm93LnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIiIsImV4cG9ydCAqIGZyb20gXCItIS4uLy4uLy4uL3Z1ZS1sb2FkZXIvbGliL2xvYWRlcnMvdGVtcGxhdGVMb2FkZXIuanM/P3J1bGVTZXRbMV0ucnVsZXNbMl0hLi4vLi4vLi4vdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL0pldEZvcm1FZGl0b3JSb3cudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTA3NmUzOGI2JlwiIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgdmFyIF92bSA9IHRoaXMsXG4gICAgX2MgPSBfdm0uX3NlbGYuX2NcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiamV0LWZvcm0tZWRpdG9yX19yb3dcIiB9LCBbXG4gICAgX2MoXCJkaXZcIiwgeyBjbGFzczogX3ZtLmxhYmVsQ2xhc3NPYmplY3QgfSwgW1xuICAgICAgX3ZtLl92KFwiXFxuXFx0XFx0XCIgKyBfdm0uX3MoX3ZtLmxhYmVsKSArIFwiXFxuXFx0XFx0XCIpLFxuICAgICAgdGhpcy4kc2xvdHMuaGVscExhYmVsXG4gICAgICAgID8gX2MoXCJkaXZcIiwgeyBjbGFzczogX3ZtLmhlbHBDbGFzc09iamVjdCB9LCBbX3ZtLl90KFwiaGVscExhYmVsXCIpXSwgMilcbiAgICAgICAgOiBfdm0uX2UoKSxcbiAgICBdKSxcbiAgICBfdm0uX3YoXCIgXCIpLFxuICAgIF9jKFxuICAgICAgXCJkaXZcIixcbiAgICAgIHsgY2xhc3M6IF92bS5jb250cm9sQ2xhc3NPYmplY3QgfSxcbiAgICAgIFtcbiAgICAgICAgX3ZtLl90KFwiZGVmYXVsdFwiKSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgdGhpcy4kc2xvdHMuaGVscENvbnRyb2xcbiAgICAgICAgICA/IF9jKFxuICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICB7IGNsYXNzOiBfdm0uaGVscENsYXNzT2JqZWN0IH0sXG4gICAgICAgICAgICAgIFtfdm0uX3QoXCJoZWxwQ29udHJvbFwiKV0sXG4gICAgICAgICAgICAgIDJcbiAgICAgICAgICAgIClcbiAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgXSxcbiAgICAgIDJcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgdGhpcy4kc2xvdHMuaGVscFNpZGVcbiAgICAgID8gX2MoXG4gICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICB7IGNsYXNzOiBfdm0uaGVscENsYXNzT2JqZWN0IH0sXG4gICAgICAgICAgW192bS5fdihcIlxcblxcdFxcdMKgwqDCoMKgXCIpLCBfdm0uX3QoXCJoZWxwU2lkZVwiKV0sXG4gICAgICAgICAgMlxuICAgICAgICApXG4gICAgICA6IF92bS5fZSgpLFxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIi8qIGdsb2JhbHMgX19WVUVfU1NSX0NPTlRFWFRfXyAqL1xuXG4vLyBJTVBPUlRBTlQ6IERvIE5PVCB1c2UgRVMyMDE1IGZlYXR1cmVzIGluIHRoaXMgZmlsZSAoZXhjZXB0IGZvciBtb2R1bGVzKS5cbi8vIFRoaXMgbW9kdWxlIGlzIGEgcnVudGltZSB1dGlsaXR5IGZvciBjbGVhbmVyIGNvbXBvbmVudCBtb2R1bGUgb3V0cHV0IGFuZCB3aWxsXG4vLyBiZSBpbmNsdWRlZCBpbiB0aGUgZmluYWwgd2VicGFjayB1c2VyIGJ1bmRsZS5cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50KFxuICBzY3JpcHRFeHBvcnRzLFxuICByZW5kZXIsXG4gIHN0YXRpY1JlbmRlckZucyxcbiAgZnVuY3Rpb25hbFRlbXBsYXRlLFxuICBpbmplY3RTdHlsZXMsXG4gIHNjb3BlSWQsXG4gIG1vZHVsZUlkZW50aWZpZXIgLyogc2VydmVyIG9ubHkgKi8sXG4gIHNoYWRvd01vZGUgLyogdnVlLWNsaSBvbmx5ICovXG4pIHtcbiAgLy8gVnVlLmV4dGVuZCBjb25zdHJ1Y3RvciBleHBvcnQgaW50ZXJvcFxuICB2YXIgb3B0aW9ucyA9XG4gICAgdHlwZW9mIHNjcmlwdEV4cG9ydHMgPT09ICdmdW5jdGlvbicgPyBzY3JpcHRFeHBvcnRzLm9wdGlvbnMgOiBzY3JpcHRFeHBvcnRzXG5cbiAgLy8gcmVuZGVyIGZ1bmN0aW9uc1xuICBpZiAocmVuZGVyKSB7XG4gICAgb3B0aW9ucy5yZW5kZXIgPSByZW5kZXJcbiAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IHN0YXRpY1JlbmRlckZuc1xuICAgIG9wdGlvbnMuX2NvbXBpbGVkID0gdHJ1ZVxuICB9XG5cbiAgLy8gZnVuY3Rpb25hbCB0ZW1wbGF0ZVxuICBpZiAoZnVuY3Rpb25hbFRlbXBsYXRlKSB7XG4gICAgb3B0aW9ucy5mdW5jdGlvbmFsID0gdHJ1ZVxuICB9XG5cbiAgLy8gc2NvcGVkSWRcbiAgaWYgKHNjb3BlSWQpIHtcbiAgICBvcHRpb25zLl9zY29wZUlkID0gJ2RhdGEtdi0nICsgc2NvcGVJZFxuICB9XG5cbiAgdmFyIGhvb2tcbiAgaWYgKG1vZHVsZUlkZW50aWZpZXIpIHtcbiAgICAvLyBzZXJ2ZXIgYnVpbGRcbiAgICBob29rID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgIC8vIDIuMyBpbmplY3Rpb25cbiAgICAgIGNvbnRleHQgPVxuICAgICAgICBjb250ZXh0IHx8IC8vIGNhY2hlZCBjYWxsXG4gICAgICAgICh0aGlzLiR2bm9kZSAmJiB0aGlzLiR2bm9kZS5zc3JDb250ZXh0KSB8fCAvLyBzdGF0ZWZ1bFxuICAgICAgICAodGhpcy5wYXJlbnQgJiYgdGhpcy5wYXJlbnQuJHZub2RlICYmIHRoaXMucGFyZW50LiR2bm9kZS5zc3JDb250ZXh0KSAvLyBmdW5jdGlvbmFsXG4gICAgICAvLyAyLjIgd2l0aCBydW5Jbk5ld0NvbnRleHQ6IHRydWVcbiAgICAgIGlmICghY29udGV4dCAmJiB0eXBlb2YgX19WVUVfU1NSX0NPTlRFWFRfXyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29udGV4dCA9IF9fVlVFX1NTUl9DT05URVhUX19cbiAgICAgIH1cbiAgICAgIC8vIGluamVjdCBjb21wb25lbnQgc3R5bGVzXG4gICAgICBpZiAoaW5qZWN0U3R5bGVzKSB7XG4gICAgICAgIGluamVjdFN0eWxlcy5jYWxsKHRoaXMsIGNvbnRleHQpXG4gICAgICB9XG4gICAgICAvLyByZWdpc3RlciBjb21wb25lbnQgbW9kdWxlIGlkZW50aWZpZXIgZm9yIGFzeW5jIGNodW5rIGluZmVycmVuY2VcbiAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7XG4gICAgICAgIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzLmFkZChtb2R1bGVJZGVudGlmaWVyKVxuICAgICAgfVxuICAgIH1cbiAgICAvLyB1c2VkIGJ5IHNzciBpbiBjYXNlIGNvbXBvbmVudCBpcyBjYWNoZWQgYW5kIGJlZm9yZUNyZWF0ZVxuICAgIC8vIG5ldmVyIGdldHMgY2FsbGVkXG4gICAgb3B0aW9ucy5fc3NyUmVnaXN0ZXIgPSBob29rXG4gIH0gZWxzZSBpZiAoaW5qZWN0U3R5bGVzKSB7XG4gICAgaG9vayA9IHNoYWRvd01vZGVcbiAgICAgID8gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGluamVjdFN0eWxlcy5jYWxsKFxuICAgICAgICAgICAgdGhpcyxcbiAgICAgICAgICAgIChvcHRpb25zLmZ1bmN0aW9uYWwgPyB0aGlzLnBhcmVudCA6IHRoaXMpLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3RcbiAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgIDogaW5qZWN0U3R5bGVzXG4gIH1cblxuICBpZiAoaG9vaykge1xuICAgIGlmIChvcHRpb25zLmZ1bmN0aW9uYWwpIHtcbiAgICAgIC8vIGZvciB0ZW1wbGF0ZS1vbmx5IGhvdC1yZWxvYWQgYmVjYXVzZSBpbiB0aGF0IGNhc2UgdGhlIHJlbmRlciBmbiBkb2Vzbid0XG4gICAgICAvLyBnbyB0aHJvdWdoIHRoZSBub3JtYWxpemVyXG4gICAgICBvcHRpb25zLl9pbmplY3RTdHlsZXMgPSBob29rXG4gICAgICAvLyByZWdpc3RlciBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnQgaW4gdnVlIGZpbGVcbiAgICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IG9wdGlvbnMucmVuZGVyXG4gICAgICBvcHRpb25zLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcldpdGhTdHlsZUluamVjdGlvbihoLCBjb250ZXh0KSB7XG4gICAgICAgIGhvb2suY2FsbChjb250ZXh0KVxuICAgICAgICByZXR1cm4gb3JpZ2luYWxSZW5kZXIoaCwgY29udGV4dClcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCByZWdpc3RyYXRpb24gYXMgYmVmb3JlQ3JlYXRlIGhvb2tcbiAgICAgIHZhciBleGlzdGluZyA9IG9wdGlvbnMuYmVmb3JlQ3JlYXRlXG4gICAgICBvcHRpb25zLmJlZm9yZUNyZWF0ZSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBob29rKSA6IFtob29rXVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZXhwb3J0czogc2NyaXB0RXhwb3J0cyxcbiAgICBvcHRpb25zOiBvcHRpb25zXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==