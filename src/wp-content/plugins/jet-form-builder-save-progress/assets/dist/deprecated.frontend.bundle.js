(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const n=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r(this,"_namespace",!1),r(this,"_success_hook","")}var o,i;return o=n,i=[{key:"namespace",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!this._namespace)throw console.log(this._namespace),new Error("Illegal type of this._namespace: (".concat(e(this._namespace),")"));return this._namespace+t}},{key:"className",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"."+this.namespace(e)}},{key:"setNamespace",value:function(e){if(!e)throw new Error("Please set the Namespace");return this._namespace=this.parseNamespaceBeforeSave(e),this}},{key:"setSuccessHook",value:function(e){return this._success_hook=e,this}},{key:"parseNamespaceBeforeSave",value:function(e){return e}}],i&&t(o.prototype,i),Object.defineProperty(o,"prototype",{writable:!1}),n}();function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function y(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=jQuery;wp.hooks.applyFilters,window.JetFormSaveProgress;const b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var t,r,n,o,i=(n=l,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=d(n);if(o){var r=d(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return y(this,e)});function l(){return f(this,l),i.apply(this,arguments)}return t=l,r=[{key:"type",get:function(){if(!this.type_field())throw new Error("Please define the type of the field in the `type_field` method");return this.type_field()}},{key:"onSet",value:function(){throw new Error("Please define the 'onSet' method in the '".concat(this.type,"'"))}},{key:"onGet",value:function(){throw new Error("Please define the 'onGet' method in the '".concat(this.type,"'"))}},{key:"value",get:function(){return this.dataField.value}},{key:"setFormID",value:function(e){this.form_id=e}},{key:"setRoot",value:function(e){this.$root=e}},{key:"callFuncWithAnotherNamespace",value:function(e,t,r){var n=!1;this._namespace===e&&(n=!0,this._namespace=t);var o=r(this);return n&&this._namespace===t&&(this._namespace=e),o}},{key:"type_field",value:function(){return!1}},{key:"setClosure",value:function(e){return this.closure=e,this}},{key:"setName",value:function(e){return this.fieldName=e,this}},{key:"setDataField",value:function(e){return this.dataField=e,this}},{key:"setField",value:function(e){return this.field=e,this}},{key:"baseFindField",value:function(e){return this.closure.find("".concat(e,'[data-field-name="').concat(this.fieldName,'"]'))}},{key:"baseFindFieldByName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.closure,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.fieldName,n=t.find("".concat(e,'[name="').concat(r,'"]'));return n.length?n:t.find("".concat(e,'[name$="][').concat(r,']"]'))}},{key:"onSetSimple",value:function(){this.field.val(this.dataField.value)}},{key:"fieldTrigger",value:function(){"jet-form-builder"===this._namespace?this.field.trigger("change.JetFormBuilderMain"):this.field.trigger("change.JetEngine")}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e&&(e=this.field),e.data("field-name")}},{key:"inRepeater",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.field);var t=e.attr("name");return/^([\w-]+)\[(\d+)\]\[[\w-]+\]$/.test(t)}},{key:"getParsedFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e&&(e=this.field);var t=e.attr("name");if(this.inRepeater(e)){var r=t.match(/^[\w-]+\[\d+\]\[([\w-]+)\]$/),n=c(r,2),o=(n[0],n[1]);return o}return t}},{key:"getClosestRepeater",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e&&(e=this.field),this.callFuncWithAnotherNamespace("jet-engine","jet-form",(function(t){return[e.closest(t.className("-repeater")),e.closest(t.className("-repeater__row"))]}))}},{key:"insertRepeaterRow",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.form_id?this.form_id:e.closest("form"),o=JetSPManager.getFormStorage(n),i=o.fields,u=i[e.data("field-name")],c=(t=h(t)).data("index"),l=u?u.value:{},f=a(a({},l[c]?l[c].fields:{}),r);l[c]={status:"active",fields:f},JetSPManager.setFormStorage(n,this.val({field:e,type:"repeater",value:l}))}},{key:"val",value:function(e){var t=e.value,r=e.type,n=void 0===r?this.type:r,o=e.checkInRepeater,i=void 0===o||o,a=e.field,l=void 0===a?this.field:a,f=u({},this.getCustomFieldName(l),{type:n,value:t});if(!i)return f;if(!this.inRepeater(l))return f;var s=c(this.getClosestRepeater(l),2),p=s[0],y=s[1];this.insertRepeaterRow(p,y,this.val({value:t,field:l,checkInRepeater:!1}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.ifEmpty,e.field),r=void 0===t?this.field:t,n=e.closure,o=void 0===n?this.field:n,i=r.data("field-name");JetSPManager.clearField(o,i)}},{key:"getVal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ifEmpty,r=void 0===t?[]:t,n=e.field,o=void 0===n?this.field:n,i=e.closure,a=void 0===i?this.field:i,u=JetSPManager.getFormStorage(a),l=u.fields,f=o.data("field-name"),s=this.inRepeater();if(s){var p=this.getClosestRepeater(),y=c(p,2),d=y[0],h=y[1],b=d.data("field-name"),v=h.data("index");return l[b]&&l[b].value[v]&&l[b].value[v].fields[f]?l[b].value[v].fields[f].value:r}return l[f]?l[f].value:r}},{key:"events",value:function(){return[]}},{key:"namespaces",value:function(){return[]}}],r&&s(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(n);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function j(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}wp.hooks.applyFilters;const _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(n);if(o){var r=O(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return j(this,e)});function a(){return m(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"input"}},{key:"onGet",value:function(){return this.baseFindField("input")}},{key:"onSet",value:function(){this.onSetSimple()}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:[".jet-form-builder__field.text-field",".jet-form-builder__field.date-field",".jet-form-builder__field.datetime-field",".jet-form-builder__field.time-field",".jet-form-builder__field.jet-address-autocomplete"],callable:this.afterChange},{type:"change.JetEngine",selector:[".jet-form__field.text-field",".jet-form__field.date-field",".jet-form__field.datetime-field",".jet-form__field.time-field",".jet-form__field.jet-address-autocomplete"],callable:this.afterChange}]}}])&&g(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function N(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var A=jQuery;const I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(n);if(o){var r=x(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return N(this,e)});function a(){return E(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"checkbox"}},{key:"onGet",value:function(){return this.baseFindField("input")}},{key:"onSet",value:function(){var e=this;e.field.each((function(){"object"===R(e.value)&&e.value[this.value]&&(A(this).attr("checked",!!e.value[this.value].checked&&"checked"),"jet-form-builder"===e._namespace?A(this).trigger("change.JetFormBuilderMain"):A(this).trigger("change.JetEngine"))}))}},{key:"afterChange",value:function(){var e=this.getVal();e=P(P({},e),{},k({},this.field.val(),{checked:this.field.is(":checked")})),JetSPManager.setFormStorage(this.form_id,this.val({value:e}))}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.checkboxes-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__field.checkboxes-field",callable:this.afterChange}]}}])&&F(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function D(e,t){if(t&&("object"===T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}var H=jQuery;const G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=V(n);if(o){var r=V(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return D(this,e)});function a(){return M(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"radio"}},{key:"onGet",value:function(){return this.baseFindFieldByName("input")}},{key:"onSet",value:function(){var e=this;e.field.each((function(){H(this).attr("checked",this.value===e.value&&"checked")}))}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getParsedFieldName(e)}},{key:"afterChange",value:function(){var e;if(null!==(e=this.field[0])&&void 0!==e&&e.checked){var t=this.field.val();JetSPManager.setFormStorage(this.form_id,this.val({value:t}))}}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.radio-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__fields-group:not(.appointment-provider) .jet-form__field.radio-field",callable:this.afterChange}]}}],r&&J(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function $(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Y(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Y(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){if(e){if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function ee(e,t){if(t&&("object"===Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}var re=jQuery;const ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=te(n);if(o){var r=te(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ee(this,e)});function a(){return q(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"media"}},{key:"parseNamespaceBeforeSave",value:function(e){return"jet-form"===e?"jet-engine":e}},{key:"onGet",value:function(){return this.baseFindField("input").closest(this.className("-file-upload"))}},{key:"onSet",value:function(){var e=this.getActiveMediaItems();if(this.clearRemovedMedia(),e.length){this.insertMediaPlaceholders(e);var t=this.field.find(this.className("-file-upload__value")),r=this.field.find(this.className("-file-upload__files")),n=JSON.parse(r.attr("data-args")),o=n.value_format,i=void 0===o?"url":o,a=n.max_files,u=void 0===a?"1":a,c=t.val();if(c&&(c=JSON.parse(c)),1===parseInt(u))switch(i){case"url":c=e[0].url;break;case"id":c=e[0].id;break;case"both":c=e[0]}else switch(i){case"url":c=[].concat(z(c),z(e.map((function(e){return e.url}))));break;case"id":c=[].concat(z(c),z(e.map((function(e){return e.id}))));break;case"both":c=[].concat(z(c),z(e))}t.val(JSON.stringify(c))}}},{key:"afterRemove",value:function(e,t){var r=this.getVal({closure:this.form_id}),n=r.findIndex((function(r){return r.url===e||parseInt(r.id)===parseInt(t)}));-1===n?r.push({url:e,id:t,status:"removed"}):r.splice(n,1),r.length?JetSPManager.setFormStorage(this.form_id,this.val({value:r})):this.clear()}},{key:"afterUpload",value:function(e,t){var r=this.getVal(),n=this.field.closest(this.className("-file-upload")).find(this.className("-file-upload__files")),o=JSON.parse(n.attr("data-args")),i=o.value_format,a=void 0===i?"url":i,u=o.max_files,c=void 0===u?"1":u,l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"active",o={};switch(["url","id"].includes(a)&&(o[a]=e),a){case"id":t=n.find('[data-id="'.concat(e,'"]')),o.url=t.attr("data-file");break;case"url":t=n.find('[data-file="'.concat(e,'"]')),o.id=t.attr("data-id");break;case"both":o=Z({},e)}return o.status=r,o};if("object"===Q(e)&&null!=e&&e.length?e.forEach((function(e){r.push(l(e))})):void 0!==e&&r.push(l(e)),1==+c&&Object.keys(t).length){var f=l(t,"removed"),s=r.findIndex((function(e){var t=f.id&&f.url&&e.url===f.url&&e.id===f.id,r=f.id&&e.id===f.id,n=f.url&&e.url===f.url;return t||r||n}));-1!==s?r[s].status="removed":r.push(f)}JetSPManager.setFormStorage(this.form_id,this.val({value:r}))}},{key:"events",value:function(){return[{type:"jet-form-builder/on-upload-media",selector:".jet-form-builder-file-upload__value",callable:this.afterUpload},{type:"jet-form-builder/on-remove-media-item",selector:".jet-form-builder-file-upload__value",callable:this.afterRemove},{type:"jet-engine/form/on-upload-media",selector:".jet-engine-file-upload__value",callable:this.afterUpload},{type:"jet-engine/form/on-remove-media-item",selector:".jet-engine-file-upload__value",callable:this.afterRemove}]}},{key:"insertMediaPlaceholders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=this.field.find(this.className("-file-upload__files")),r=t.attr("data-args");if(r){var n,o=JSON.parse(r),i=o.value_format,a=void 0===i?"id":i,u=$(e);try{for(u.s();!(n=u.n()).done;){var c=n.value,l=c.url,f=c.id,s=c.status,p=void 0===s?"active":s;if("active"===p){var y=["jpg","jpeg","jpe","gif","png","svg"],d=new RegExp("\\.("+y.join("|")+")$");t.append(this.createMediaContent(d.test(l)?l:"",a,f))}}}catch(e){u.e(e)}finally{u.f()}}}},{key:"createMediaContent",value:function(e,t,r){var n=e?'<img src="'.concat(e,'" alt="">'):"";return re('<div class="'.concat(this.namespace("-file-upload__file"),'"\n\t\t\t data-file="').concat(e,'"\n\t\t\t data-id="').concat(r,'" data-format="').concat(t,'" draggable="true">\n\t\t\t \t').concat(n,'\n\t\t\t\t<div class="').concat(this.namespace("-file-upload__file-remove"),'">\n\t\t\t\t\t<svg width="22" height="22" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t\td="M4.375 7H6.125V12.25H4.375V7ZM7.875 7H9.625V12.25H7.875V7ZM10.5 1.75C10.5 1.51302 10.4134 1.30794 10.2402 1.13477C10.0762 0.961589 9.87109 0.875 9.625 0.875H4.375C4.12891 0.875 3.91927 0.961589 3.74609 1.13477C3.58203 1.30794 3.5 1.51302 3.5 1.75V3.5H0V5.25H0.875V14C0.875 14.237 0.957031 14.4421 1.12109 14.6152C1.29427 14.7884 1.50391 14.875 1.75 14.875H12.25C12.4961 14.875 12.7012 14.7884 12.8652 14.6152C13.0384 14.4421 13.125 14.237 13.125 14V5.25H14V3.5H10.5V1.75ZM5.25 2.625H8.75V3.5H5.25V2.625ZM11.375 5.25V13.125H2.625V5.25H11.375Z"></path>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>'))}},{key:"getActiveMediaItems",value:function(){var e,t=[],r=$(this.value);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=n.status;"active"===(void 0===o?"active":o)&&(delete n.status,t.push(n))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"clearRemovedMedia",value:function(){var e,t=$(this.value);try{for(t.s();!(e=t.n()).done;){var r=e.value,n=r.url,o=void 0===n?"":n,i=r.id,a=void 0===i?"":i,u=r.status;if("removed"===(void 0===u?"active":u)){var c=o?this.field.find(this.className('-file-upload__file[data-file="'.concat(o,'"]'))):this.field.find(this.className('-file-upload__file[data-id="'.concat(a,'"]')));c.length&&c.remove()}}}catch(e){t.e(e)}finally{t.f()}}}],r&&K(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function oe(e,t){if(e){if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function fe(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}var pe=jQuery;const ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(n);if(o){var r=se(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return fe(this,e)});function a(){return ue(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"repeater"}},{key:"onGet",value:function(){return this.baseFindField("div")}},{key:"onSet",value:function(){if("object"===ae(this.value))for(var e=0,t=Object.entries(this.value);e<t.length;e++){var r=(s=t[e],p=2,function(e){if(Array.isArray(e))return e}(s)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(s,p)||oe(s,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n=r[0],o=r[1],i=o.fields,a=void 0===i?{}:i,u=o.status,c=void 0===u?"active":u,l=this.field.find('[data-index="'.concat(n,'"]'));if(l.length&&"active"!==c&&(l.find(".wp-editor-area").each((function(){var e=pe(this);window.wp&&window.wp.editor&&wp.editor.remove(e.attr("id"))})),l.remove()),"active"===c){if(!l.length){var f=this.className("-repeater__new");this.field.find(f).click(),l=this.field.find(this.className("-repeater__row:last"))}this.$root.initProgress(l,a)}}var s,p}},{key:"afterNew",value:function(){var e,t=this.field.closest(this.className("-repeater")),r=t.find(this.className("-repeater__items")).children(this.className("-repeater__row")),n=Array.apply(void 0,(e=r,function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).pop();this.insertRepeaterRow(t,n)}},{key:"afterRemove",value:function(){var e=this.field.closest(this.className("-repeater__row")).data("index"),t=this.field.closest(this.className("-repeater")),r=this.getVal({closure:this.form_id,ifEmpty:{},field:t});r[e]={status:"removed"},JetSPManager.setFormStorage(this.form_id,this.val({value:r,checkInRepeater:!1,field:t}))}},{key:"events",value:function(){return[{type:"jet-form-builder/repeater-add-new",selector:".jet-form-builder-repeater__new",callable:this.afterNew},{type:"jet-form-builder/on-remove-repeater-item",callable:this.afterRemove},{type:"jet-engine/form/repeater-add-new",selector:".jet-form-repeater__new",callable:this.afterNew},{type:"jet-engine/form/on-remove-repeater-item",callable:this.afterRemove}]}}])&&ce(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function he(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ve(e,t){return ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ve(e,t)}function me(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ge(e)}var we=jQuery;const je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ve(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ge(n);if(o){var r=ge(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return me(this,e)});function a(){return he(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"wysiwyg"}},{key:"onGet",value:function(){var e,t=this;return this.closure.find(".wp-editor-area").each((function(){var r=we(this);t.fieldName===t.getParsedFieldName(r)&&(e=r)})),e}},{key:"onSet",value:function(){var e=this;we(document).on("init.JetFormBuilderMain",".jet-form-builder__field.wysiwyg-field",(function(t,r){var n=jQuery(t.target).data("editor");(null==n?void 0:n.textarea_name)===e.fieldName&&r.on("init",(function(t){r.setContent(e.value)}))}))}},{key:"afterChange",value:function(e){JetSPManager.setFormStorage(this.form_id,this.val({value:e.getContent(),field:we(this.field.find("textarea"))}))}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getParsedFieldName(e)}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.wysiwyg-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__field.wysiwyg-field",callable:this.afterChange}]}}],r&&be(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function _e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}function ke(e,t){if(t&&("object"===Oe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}var Ee=jQuery;const Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Re(n);if(o){var r=Re(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return ke(this,e)});function a(){return _e(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"range"}},{key:"onGet",value:function(){return this.baseFindField("input")}},{key:"onSet",value:function(){this.field.val(this.value),JetFormBuilder.updateRangeField({target:Ee(this.field)})}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.range-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__field.range-field",callable:this.afterChange}]}}])&&Se(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ae(e,t){return Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ae(e,t)}function Ie(e,t){if(t&&("object"===Ce(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Te(e){return Te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Te(e)}const Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(n);if(o){var r=Te(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ie(this,e)});function a(){return Ne(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"textarea"}},{key:"onGet",value:function(){return this.baseFindField("textarea")}},{key:"onSet",value:function(){this.onSetSimple()}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.textarea-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__field.textarea-field",callable:this.afterChange}]}}])&&xe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ve(e,t){return Ve=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ve(e,t)}function He(e,t){if(t&&("object"===Je(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}const $e=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ve(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ge(n);if(o){var r=Ge(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return He(this,e)});function a(){return Be(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"type_field",value:function(){return"select"}},{key:"onGet",value:function(){return this.baseFindField("select")}},{key:"onSet",value:function(){this.field.val(this.dataField.value).trigger("change")}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change.JetFormBuilderMain",selector:".jet-form-builder__field.select-field",callable:this.afterChange},{type:"change.JetEngine",selector:".jet-form__field.select-field:not(.appointment-provider)",callable:this.afterChange}]}}])&&De(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function Qe(e){return Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qe(e)}function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ze(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Le(e,t){if(t&&("object"===Qe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}jQuery;const Ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qe(n);if(o){var r=qe(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Le(this,e)});function a(){return We(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"appointment_date"}},{key:"onGet",value:function(){return this.closure.find('div.field-type-appointment_date[data-field="'.concat(this.fieldName,'"] input[type="hidden"]'))}},{key:"namespaces",value:function(){return["jet-form"]}},{key:"onSet",value:function(){this.value||this.onSetSimple();var e=Ue(this.value.split("|"),3),t=e[0],r=e[1],n=(e[2],this.field.closest(".jet-apb-calendar")),o=n.find(".jet-apb-calendar-body"),i=n.find(".jet-apb-calendar-header"),a=function(){var e,r=o.find(".jet-apb-calendar-date").data("calendar-date"),n=new Date(1e3*r),i=new Date(1e3*t),a=[n.getMonth(),n.getFullYear()],u=a[0],c=a[1],l=[i.getMonth(),i.getFullYear()],f=l[0],s=l[1],p=u+c,y=f+s,d=0;return n>i&&p>y&&(e=!1,d=u-f+12*(c-s)),n<i&&p<y&&(e=!0,d=f-u+12*(s-c)),[e,d]}(),u=Ue(a,2),c=u[0],l=u[1];if(!0===c&&l)for(var f=0;f<l;f++)i.find('[data-calendar-toggle="next"]').click();else if(!1===c&&l)for(var s=0;s<l;s++)i.find('[data-calendar-toggle="next"]').click();var p=o.find('[data-calendar-date="'.concat(t,'"]'));if("true"===p.attr("data-status")){var y=o.siblings('input[type="hidden"]');window.addEventListener("jet-apb-calendar-slots--loaded",(function(){n.find('.jet-apb-calendar-slots [data-slot="'.concat(r,'"]')).click()})),p.find(".jet-apb-calendar-date-body").click(),y.val(this.value)}}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getParsedFieldName(e)}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change",selector:'div.field-type-appointment_date input[type="hidden"]',callable:this.afterChange}]}}],r&&ze(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function et(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rt(e,t){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rt(e,t)}function nt(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}const it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ot(n);if(o){var r=ot(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return nt(this,e)});function a(){return et(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"appointment_provider"}},{key:"onGet",value:function(){var e=this.baseFindFieldByName("input");return e.length?e:this.baseFindFieldByName("select")}},{key:"namespaces",value:function(){return["jet-form"]}},{key:"onSet",value:function(){var e=this,t=this.field.filter((function(){return this.value===e.value})).closest(this.className("__field-wrap"));t.length?t.find(this.className("__field-template")).click():this.onSetSimple()}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getParsedFieldName(e)}},{key:"events",value:function(){return[{type:"change.JetEngine",selector:[".jet-form__fields-group.appointment-provider .jet-form__field.radio-field",".jet-form__field.select-field.appointment-provider"],callable:this.afterChange}]}}],r&&tt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ft(e,t){return ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ft(e,t)}function st(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function pt(e){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pt(e)}const yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ft(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pt(n);if(o){var r=pt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return st(this,e)});function a(){return ct(this,a),i.apply(this,arguments)}return t=a,r=[{key:"type_field",value:function(){return"booking_check_in_out"}},{key:"onGet",value:function(){return this.baseFindFieldByName("input")}},{key:"namespaces",value:function(){return["jet-form"]}},{key:"onSet",value:function(){if(this.value)if("text"!==this.field.attr("type")){var e=(o=this.value.split(" - "),i=2,function(e){if(Array.isArray(e))return e}(o)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(o,i)||function(e,t){if(e){if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ut(e,t):void 0}}(o,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),t=e[0],r=e[1],n=this.field.closest(".jet-abaf-separate-fields");this.baseFindFieldByName("input",n,"".concat(this.fieldName,"__in")).val(t),this.baseFindFieldByName("input",n,"".concat(this.fieldName,"__out")).val(r)}else this.onSetSimple();var o,i}},{key:"getCustomFieldName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.getParsedFieldName(e)}},{key:"afterChange",value:function(){JetSPManager.setFormStorage(this.form_id,this.val({value:this.field.val()}))}},{key:"events",value:function(){return[{type:"change.JetEngine",selector:'.jet-form__field[data-field="checkin-checkout"]',callable:this.afterChange}]}}],r&&lt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(b);function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function ht(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bt(e,t){return bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bt(e,t)}function vt(e,t){if(t&&("object"===dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mt(e){return mt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mt(e)}var gt=jQuery;const wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bt(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=mt(n);if(o){var r=mt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return vt(this,e)});function a(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).root=e,r.pageId=t,r}return t=a,(r=[{key:"init",value:function(){if(!(1>=this.pageId)){var e=this.root.find(this.className('-page[data-page="1"]'));if(e.length)for(var t=1;t<this.pageId;t++){var r=e.find(this.className("__next-page"));if(r.attr("disabled"))break;r.click(),e=e.next()}}}},{key:"switchPage",value:function(e,t,r){var n=[t.data("page"),r.data("page")][1];JetSPManager.setFormStorage(this.root,{toPage:n},"multi_step")}},{key:"addEvents",value:function(){return gt(document).on("jet-engine/form/switch-page",this.switchPage.bind(this)).on("jet-form-builder/switch-page",this.switchPage.bind(this)),this}}])&&ht(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(n);function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||_t(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _t(e,t){if(e){if("string"==typeof e)return St(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?St(e,t):void 0}}function St(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){At(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Et(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ft(e,t){return Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ft(e,t)}function Ct(e,t){if(t&&("object"===jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Nt(e)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xt(e)}function At(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var It=window.JetFormSaveProgress,Tt=function(e){return"jet_form_progress_"+e},Mt=jQuery,Jt=wp.hooks.applyFilters;const Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(a,e);var t,r,n,o,i=(n=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=xt(n);if(o){var r=xt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return Ct(this,e)});function a(){var e;Rt(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return At(Nt(e=i.call.apply(i,[this].concat(r))),"initializedForms",[]),e}return t=a,r=[{key:"Instances",value:function(){return Jt("jet-fb.save-progress.register.fields",[new _,new I,new G,new ne,new ye,new je,new Fe,new Me,new $e,new it,new Ke,new yt])}},{key:"getFormId",value:function(e){return parseInt(e)?e:e.data("form-id")||e.closest("form").data("form-id")}},{key:"getFormStorage",value:function(e){var t=this.getFormId(e);return JSON.parse(localStorage.getItem(Tt(t)))||{fields:{},multi_step:{}}}},{key:"clearFormStorage",value:function(e){var t=this.getFormId(e);localStorage.removeItem(Tt(t))}},{key:"setFormStorage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",n=this.getFormId(e),o=this.getFormStorage(n);localStorage.setItem(Tt(n),JSON.stringify(kt(kt({},o),{},At({},r,kt(kt({},o[r]),t)))))}},{key:"clearField",value:function(e,t){var r,n=this.getFormId(e),o=this.getFormStorage(n);o.fields=null!==(r=o.fields)&&void 0!==r?r:{},delete o.fields[t],localStorage.setItem(Tt(n),JSON.stringify(kt({},o)))}},{key:"initProgress",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=Object.entries(t),o=this;n.forEach((function(t){var n=Ot(t,2),i=n[0],a=n[1],u=o.Instances().find((function(e){return e.type===a.type}));if(!u.namespaces().length||u.namespaces().includes(o._namespace)){if(!u)throw new Error("Undefined field type: ".concat(a.type));r&&u.setRoot(r),u.setNamespace(o._namespace).setClosure(e).setName(i).setDataField(a);var c=u.onGet();c&&c.length&&(u.setField(c),u.onSet(),u.fieldTrigger())}}))}},{key:"initMultiStep",value:function(e,t,r){var n=t.toPage;new wt(e,void 0===n?1:n).setNamespace(r).addEvents().init()}},{key:"init",value:function(e,t){var r=this,n=t.find("form"),o=n.data("form-id");if(It[o]&&(It[o].clear_storage&&Mt(document).on(this._success_hook,(function(e,t,n,i){o===n.data("form-id")&&r.clearFormStorage(o)})),It[o].enable&&!JetSPManager.initializedForms.includes(o))){var i=this.getFormStorage(o);if(i){var a=i.fields,u=void 0===a?{}:a,c=i.multi_step,l=void 0===c?{}:c;try{this.initProgress(n,u,this),this.initMultiStep(n,l,this._namespace)}catch(e){console.error(e)}JetSPManager.initializedForms.push(o)}}}},{key:"eventCallbackWrapper",value:function(e,t,r,n){var o,i=Mt(e.target),a=i.closest("form"),u=a.data("form-id");return!(!It[u]||!It[u].enable||(r.setNamespace(a.hasClass("jet-form-builder")?"jet-form-builder":"jet-form"),r.setFormID(u),r.setField(i),t.call.apply(t,[r].concat((o=n,function(e){if(Array.isArray(e))return St(e)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||_t(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))),0))}},{key:"handleEvents",value:function(){var e=this;this.Instances().forEach((function(t){var r=Jt("jet-fb.save-progress.events.".concat(t.type),t.events());if(!r.length)throw new Error("Please define events for the ".concat(t.type," field in the 'events' method"));r.forEach((function(r){var n,o=r.type,i=r.selector,a=void 0===i?[]:i,u=r.callable;"object"===jt(a)&&void 0!==a.length&&(n=a.join(", ")),"string"==typeof a&&(n=a),Mt(document).on(o,n,(function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];e.eventCallbackWrapper(r,u,t,o)}))}))}))}}],r&&Et(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(n);function Dt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Vt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.JetSPManager=new Bt,JetSPManager.handleEvents(),function(e){var t;t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.url,r=void 0===t?"":t,n=decodeURIComponent(r||window.location.href),o=n.split("?");if(!o[1]||!o[1].length)return{};var i=o[1].split("&"),a={};return i.forEach((function(e){var t=Dt(e.split("="),2),r=t[0],n=t[1],o=void 0===n?"":n;a[r]=o})),a}(),t.jfb_clear_storage&&localStorage.removeItem(Tt(t.jfb_clear_storage));var r=(new Bt).setNamespace("jet-form-builder").setSuccessHook("jet-form-builder/ajax/on-success"),n=(new Bt).setNamespace("jet-form").setSuccessHook("jet-engine/form/ajax/on-success");e(document).on("jet-form-builder/after-init",r.init.bind(r)),e(document).on("jet-engine/booking-form/init",n.init.bind(n))}(jQuery)})();